<!DOCTYPE html>

<html>
    <head>
        <title>Traktora vizda vsichko</title>
    </head>

    <body onload="init()">
        <nav style="font-size: 25px;">
            <a href="/register">Register</a>
            <a href="/login">Login</a>
        </nav>
        <br/>
        <div id="Profiles"></div>
    </body>

    <script>
        const xhr = new XMLHttpRequest();
        let people = [];
        function init() {
            xhr.open("GET", "/profiles");
            xhr.send();
            xhr.onload = () => {
                if (xhr.readyState == 4 && xhr.status == 200) {
                    const data = JSON.parse(xhr.response).profiles;
                    let proObject = document.getElementById("Profiles");
                    document.getElementById("Profiles").innerHTML = "";
                    for(i = 0; i < data.length; i++) {
                        document.getElementById("Profiles").innerHTML += "<div id = '" + data[i].id + "'>Name: " + data[i].name + 
                        "<br /> Username: " + data[i].id + 
                        "<br /> Age: " + data[i].age + 
                        "<br /> Gender: " + data[i].gender + 
                        "<br /> Email: " + data[i].email + 
                        "<br /> Password: **********" + 
                        "<br /> Phone: " + data[i].phone +
                        "<br /> Followers: " + data[i].followers +
                        "</div><br />";
                    }
                } else {
                    console.log(`Error: ${xhr.status}`);
                }
            };
        }
    </script>
</html>